{
  "title": "Create DsmsManagedKeySecret",
  "operationId": "DsmsManagedKeySecret_CreateOrUpdate",
  "parameters": {
    "subscriptionId": "3a3595d0-5fcd-5bee-ba2f-5f389d7d91fa",
    "resourceGroupName": "myResourceGroup",
    "resourceName": "prodUSEastAzcis",
    "api-version": "2023-08-22-preview",
    "resource": {
      "properties": {
        "armResourceId": "/subscriptions/3a3595d0-5fcd-5bee-ba2f-5f389d7d91fa/resourceGroups/myResourceGroup/providers/Microsoft.DocumentDB/databaseAccounts/test-cosmos-uscentraleuap/readwritekeys",
        "managedKeySubType": "Password",
        "dsmsDns": "global-dsms.dsms.test.com",
        "rootFolder": "azuredsmstesting",
        "managedKeyName": "/azuredsmstesting/managedkeys/cosmos-test/cosmos-test-customNameWithDefaults/readwritekeys",
        "blockAutoRollover": false,
        "customRolloverPeriodDays": 90,
        "armResourceLocation": "useast",
        "replicationScope": "AllDsmsRegions",
        "replicateTo": "uswest",
        "properties": [
          {
            "name": "Purpose",
            "value": "Test"
          },
          {
            "name": "ExampleName",
            "value": "ExampleValue"
          }
        ],
        "azureLocation": "useast"
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "id": "/subscriptions/3a3595d0-5fcd-5bee-ba2f-5f389d7d91fa/resourceGroups/myResourceGroup/providers/Microsoft.AzureCis/dsmsManagedKeySecrets/prodUSEastAzcis",
        "name": "prodUSEastAzcis",
        "type": "Microsoft.AzureCis/dsmsManagedKeySecrets",
        "properties": {
          "armResourceId": "/subscriptions/3a3595d0-5fcd-5bee-ba2f-5f389d7d91fa/resourceGroups/myResourceGroup/providers/Microsoft.DocumentDB/databaseAccounts/test-cosmos-uscentraleuap/readwritekeys",
          "managedKeySubType": "Password",
          "dsmsDns": "global-dsms.dsms.test.com",
          "rootFolder": "azuredsmstesting",
          "managedKeyName": "/azuredsmstesting/managedkeys/cosmos-test/cosmos-test-customNameWithDefaults/readwritekeys",
          "blockAutoRollover": false,
          "customRolloverPeriodDays": 90,
          "armResourceLocation": "useast",
          "replicationScope": "AllDsmsRegions",
          "replicateTo": "uswest",
          "properties": [
            {
              "name": "Purpose",
              "value": "Test"
            },
            {
              "name": "ExampleName",
              "value": "ExampleValue"
            }
          ],
          "azureLocation": "useast",
          "provisioningState": "Succeeded"
        }
      }
    },
    "201": {
      "body": {
        "id": "/subscriptions/3a3595d0-5fcd-5bee-ba2f-5f389d7d91fa/resourceGroups/myResourceGroup/providers/Microsoft.AzureCis/dsmsManagedKeySecrets/prodUSEastAzcis",
        "name": "prodUSEastAzcis",
        "type": "Microsoft.AzureCis/dsmsManagedKeySecrets",
        "properties": {
          "armResourceId": "/subscriptions/3a3595d0-5fcd-5bee-ba2f-5f389d7d91fa/resourceGroups/myResourceGroup/providers/Microsoft.DocumentDB/databaseAccounts/test-cosmos-uscentraleuap/readwritekeys",
          "managedKeySubType": "Password",
          "dsmsDns": "global-dsms.dsms.test.com",
          "rootFolder": "azuredsmstesting",
          "managedKeyName": "/azuredsmstesting/managedkeys/cosmos-test/cosmos-test-customNameWithDefaults/readwritekeys",
          "blockAutoRollover": false,
          "customRolloverPeriodDays": 90,
          "armResourceLocation": "useast",
          "replicationScope": "AllDsmsRegions",
          "replicateTo": "uswest",
          "properties": [
            {
              "name": "Purpose",
              "value": "Test"
            },
            {
              "name": "ExampleName",
              "value": "ExampleValue"
            }
          ],
          "azureLocation": "useast",
          "provisioningState": "Succeeded"
        }
      }
    }
  }
}
