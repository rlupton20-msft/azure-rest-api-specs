import "@typespec/http";
import "@typespec/rest";
import "@typespec/versioning";
import "@azure-tools/typespec-azure-core";
import "@azure-tools/typespec-azure-resource-manager";

using TypeSpec.Versioning;
using Azure.Core;
using TypeSpec.OpenAPI;

@versioned(Versions)
namespace Private.MessagingConnectors;

@added(Versions.v2025_03_01_preview)
@doc("The position of events in an Event Hub partition")
union EventPosition {
  @doc("Corresponds to the first record of the partition.")
  Earliest: "Earliest",

  @doc("Corresponds to the end of the partition.")
  Latest: "Latest",

  string,
}

@added(Versions.v2025_03_01_preview)
@doc("Configuration for EventHubSourceConnector")
model EventHubSourceConnectorProperties extends DataSourceProperties {
  @doc("Type of EventHubSourceConnector")
  connectorType: ConnectorType.EventHubSource;

  @doc("namespace hostname of the EventHub.")
  eventHubNamespaceHostname: string;

  @doc("Name of the EventHub.")
  eventHub: string;

  @doc("ConsumerGroup of the EventHub.")
  consumerGroup: string;

  @doc("The position of events in an Event Hub partition.")
  startEventPosition: EventPosition;

  @doc("Authentication for EventHub, OAuth or ConnectionString.")
  authentication: Authentication;

  @doc("OffsetStartTime in utcDateTime zone.")
  offsetStartTime?: utcDateTime;
}
